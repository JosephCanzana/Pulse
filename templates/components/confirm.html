<!-- Liquid Glass Confirmation Modal -->
<div
  id="confirm-modal"
  class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center hidden z-50 animate-fadeIn"
>
  <div
    class="relative w-[22rem] max-w-[90%] rounded-3xl p-8 text-center shadow-2xl border overflow-hidden transition-all duration-300"
    style="
      background: var(--clr-glass-light);
      border-color: var(--clr-glass-border);
      backdrop-filter: blur(20px) saturate(180%);
    "
  >
    <!-- Ambient glow background -->
    <div
      class="absolute inset-0 rounded-3xl opacity-20 blur-3xl pointer-events-none"
      style="background: radial-gradient(circle at top left, var(--clr-primary), transparent 70%);"
    ></div>

    <!-- Modal Content -->
    <div class="relative z-10">
      <h2
        id="confirm-modal-title"
        class="text-2xl font-semibold mb-4 tracking-tight"
        style="color: var(--clr-primary);"
      >
        Confirm Action
      </h2>

      <p
        id="confirm-modal-message"
        class="text-sm leading-relaxed mb-8"
        style="color: var(--clr-txt-secondary);"
      >
        Are you sure you want to proceed?
      </p>

      <div class="flex justify-center gap-4">
        <!-- Cancel Button -->
        <button
          id="confirm-modal-cancel"
          class="px-6 py-2.5 rounded-xl font-medium border shadow-sm transition-all duration-300"
          style="
            border-color: var(--clr-border);
            background: var(--clr-glass-dark);
            color: var(--clr-txt-primary);
          "
        >
          Cancel
        </button>

        <!-- Confirm Button -->
        <form id="confirm-modal-form" method="post" class="m-0">
          <button
            type="submit"
            id="confirm-modal-submit"
            class="px-6 py-2.5 rounded-xl font-medium shadow-md transition-all duration-300 border"
            style="
              border-color: var(--clr-primary)40;
              background: var(--clr-primary)20;
              color: var(--clr-txt-primary);
              box-shadow: 0 0 8px var(--clr-primary)25;
            "
          >
            Confirm
          </button>
        </form>
      </div>
    </div>

    <!-- Outer Glow -->
    <div
      class="absolute inset-0 rounded-3xl opacity-10 blur-3xl pointer-events-none"
      style="background: var(--clr-primary);"
    ></div>
  </div>
</div>

<style>
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
.animate-fadeIn {
  animation: fadeIn 0.25s ease-out;
}

/* Hover effects for both buttons */
#confirm-modal button:hover {
  transform: translateY(-3px);
  box-shadow: 0 0 15px var(--clr-glow-primary);
}
#confirm-modal button:active {
  transform: scale(0.96);
  box-shadow: 0 0 8px var(--clr-glow-tertiary);
}

/* Cancel button hover color */
#confirm-modal-cancel:hover {
  background: var(--clr-glass-light);
}

/* Confirm button hover color */
#confirm-modal-submit:hover {
  background: var(--clr-secondary);
  color: var(--clr-surface);
  box-shadow: 0 0 18px var(--clr-secondary);
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("confirm-modal");
  const cancelBtn = document.getElementById("confirm-modal-cancel");

  // Function to open modal (can be called globally)
  window.showConfirmModal = (title, message, formAction) => {
    document.getElementById("confirm-modal-title").textContent = title;
    document.getElementById("confirm-modal-message").textContent = message;
    document.getElementById("confirm-modal-form").action = formAction;
    modal.classList.remove("hidden");
    setTimeout(() => modal.classList.add("animate-fadeIn"), 10);
  };

  // Close modal when cancel is clicked
  cancelBtn.addEventListener("click", () => {
    modal.classList.add("opacity-0", "pointer-events-none", "transition", "duration-200");
    setTimeout(() => modal.classList.add("hidden"), 200);
    setTimeout(() => modal.classList.remove("opacity-0", "pointer-events-none"), 300);
  });
});
</script>
