{% set page_title = "Teaching" %}
{% extends "layout.html" %}
{% block title %}My Classes{% endblock %}

{% block main %}
<section class="p-0">
  <header class="mb-6">
    <h1 class="text-3xl font-semibold text-[var(--clr-primary)]">Class I Teach</h1>
    <p class="text-[var(--clr-txt-muted)] mt-1">Subjects youâ€™re currently handling</p>
  </header>

  {% if classes %}
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for item in classes %}
  <div 
    class="group relative bg-[var(--clr-surface)] border border-[var(--clr-border)] rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden flex flex-col justify-between">

    <!-- Accent Color Bar -->
    <div class="h-1.5 w-full" style="background: {{ item.color or 'var(--clr-secondary)' }}"></div>

    <!-- Card Content -->
    <div class="p-5 flex-1 flex flex-col justify-between">
      <div>
        <h2 class="text-lg font-semibold text-[var(--clr-txt-primary)] mb-2 transition">
          {{ item.subject_name }}
        </h2>
        <div class="space-y-1 text-sm">
          <p class="text-[var(--clr-txt-secondary)]">
            <span class="font-medium">Section:</span>
            <span class="text-[var(--clr-txt-muted)]">{{ item.section_name }}</span>
          </p>
          <p class="text-[var(--clr-txt-secondary)]">
            <span class="font-medium">Level:</span>
            <span class="text-[var(--clr-txt-muted)]">{{ item.education_level }}</span>
          </p>
        </div>
      </div>

      <!-- View Details Button -->
      <a href="{{ url_for('teacher.view_class', class_id=item.class_id) }}"
         class="mt-4 inline-flex items-center gap-1 font-medium relative overflow-hidden transition-all duration-200
                after:absolute after:left-0 after:bottom-0 after:h-[2px] after:w-0 after:bg-current
                hover:after:w-full after:transition-all after:duration-300"
         style="color: {{ item.color or 'var(--clr-secondary)' }}">
        <span class="relative z-10 flex items-center gap-1">
          View Details
          <span class="material-symbols-outlined text-base translate-y-[1px]">arrow_forward</span>
        </span>
        <!-- Press ripple / highlight -->
        <span class="absolute inset-0 opacity-0 transition-all duration-300 bg-current rounded-md scale-95 active:opacity-15 active:scale-100"></span>
      </a>
    </div>

    <!-- Hover Glow -->
    <div class="absolute inset-0 rounded-2xl pointer-events-none opacity-0 group-hover:opacity-100 transition duration-500"
         style="box-shadow: 0 0 20px {{ item.color or 'var(--clr-glow-primary)' }};"></div>
  </div>
  {% endfor %}
</div>
{% endif %}

</section>
{% endblock %}
